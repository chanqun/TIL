# 풀스택 테스트

## chapter 1 풀스택 테스트

### 1.1 좋은 품질을 위한 풀스택 테스트

과거에는 버그가 없는 애플리케이션과 소프트웨어 품질을 동일시했다.
오늘날 소프트웨어 세계에서 품질은 단순히 버그가 없는 소스 코드만을 의미하지 않는다.

사용자 관점에서 품질을 정의하면 쉬운 사용성, 아름다운 디자인, 높은 보안성, 빠른 응답 속도, 장애 없는 서비스로 요약할 수 있다.
기업 관점에서 품질을 정의하면 높은 투자 수익률, 실시간 분석이 가능한 환경, 무중단 서비스, 벤더 독립성, 확장 가능한 인프라, 데이터 보안, 법률 규정 준수 등으로 요약할 수 있다.

모든 것을 꼼꼼하게 테스트 해야함. 다양한 도구와 방법론이 있다.

### 1.2 시프트 레프트 테스트

전통적인 소프트웨어 개발 과정은 요구 사항 분석, 설계, 개발, 테스트 순이며 테스트를 가장 마지막에 수행
시프트 레프트 테스트는 초기 단계에서 테스트를 수행한다.

CI/CD 프로세스는 마이크로 및 매크로 수준에서 품질 검사를 자동으루 수행하며 CI 서버에서 지속적으로 수행된다.

- three amigos process (비즈니스 담당자, 개발자, 테스트가 검토 - 엣지 케이스, 누락된 비즈니스 요구 사항 검토)
- 비즈니스 담당자는 UX 디자이너와 협력하여 애플리케이션 설계
- 반복 계획 회의 (iteration planning meeting) 반복
- 사용자의 스토리의 개발을 시작하기 전에 스토리 킥오프를 진행

- 유닛 테스트, UI 기반 기능 테스트 > 로컬 자동화 테스트 > 커밋 후 CI > 데브박스 테스트 (수동 탐색적 테스트)

### 1.3 10가지 풀스택 테스트

수동 탐색적 테스트, 자동화된 기능 테스트, 지속적 테스트, 데이터 테스트, 시각적 테스트, 
보안 테스트, 성능 테스트, 접근성 테스트, 교차 기능 요구 사항 테스트, 모바일 테스트


## chapter 2 수동 탐색적 테스트

수동 탐색적 테스트는 요구 사항 문서나 사용자 스토리에 없는 다양한 상황에서 애플리케이션의 작동을 탐색하고 이해하는 활동이다.
탐색적 테스트를 통해 분석 또는 개발 단계에서 예상하지 못한 새로운 사용자 흐름이나 버그를 발견하기도한다.

### 2.1 구성요소

#### 2.1.1 탐색적 프레임워크

- 동등 클래스 분할 (0, 1-5000, 5001-15000 등, 부정적 클래스)
- 경곗값 분석 (5000, 5001 애매한 부분)
- 상태 전환
- 결정 테이블 (입력이 논리 값인 경우 and, or)
- 인과관계 그래프
- 페어와이즈 테스트 (장치, 해상도, OS 조합해서 테스트)
- 샘플링 (대규모 데이터셋을 테스트)
- 오류추측 (입력을 수정하도록 지시하는 적절한 오류 메시지가 없는 경우, 명확하지 않은 HTTP 상태 코드, 경계 조건 처리 등)

#### 2.1.2 기능 탐색

- 기능적 사용자 흐름 (로그인, 제품 검색, 장바구니 추가 등, 반복 흐름, 다중 사용자 흐름)
- 실패와 오류 처리 (모든 실패 케이스를 고려, 네트워크, 하드웨어 장애 등)
- UI 룩앤필 (해상도, 긴주소)
- 교차 기능적 측면 (보안, 성능, 접근성, 인증, 권한, 감사 가능성, 개인 정보 보호)

### 2.2 수동 탐색적 테스트 전략

#### 2.2.1 애플리케이션 이해
사용자 페르소나, 도메인, 비즈니스 우선순위, 인프라 및 구성, 애플리케이션 아키텍처

#### 2.2.2 부분별 탐색

#### 2.2.3 단계별로 탐색적 테스트 반복

#### 2.3.1 API 테스트
포스트맨, wiremock

#### 2.3.2 웹 UI 테스트
버그 마그넷, 크롬 개발자 도구

## chapter 3 자동화된 기능 테스트

자동화된 테스트는 애플리케이션의 테스트 실행 및 검증을 사람 대신 도구가 수행하는 것을 의미한다.
오토테스트, 인터랙티브, 제이미터, 셀레니움, Cypress

새로운 기능이 개발될 때마다 기존 기능과의 통합을 테스트하고 기존 기능에서 변경 사항으로 인한 문제가 없는지 회귀 테스트를 수행하여 확인해야 한다.

### 3.1 구성 요소

#### 3.1.1 마이크로 테스트와 매크로 테스트 유형
유닛 테스트, 통합 테스트, 계약 테스트, 서비스 테스트, UI 기능 테스트, 엔드 투 엔드 테스트

### 3.2 자동화된 기능 테스트 전략
테스트 피라미드는 마이크로 수준의 테스트가 증가함에 따라 매크로 수준의 테스트를 점진적으로 줄일 것을 권장한다.

좋은 테스트의 특징
- 테스트는 적절한 메서드명과 변수명으로 작성되어 읽기 쉬워야 한다.
- 각 테스트는 의도가 명확해야 하고 빠르게 실행하기 위해 하나의 작동만 검증해야 한다.
- 테스트는 서로 독립적이어야 한다. 테스트 간에 서로 연결되어 있다면 오류가 발생할 수 있다.
- 실행 환경에 따라 테스트의 결과가 달라져서는 안 된다.
- 테스트를 위한 의존성을 수동으로 관리할 필요 없이 테스트 구축 및 실행 프로세스를 자동화해야 한다.


## chapter 4 지속적 테스트

지속적인 피드백이 없다면 빠른 피드백을 얻기 위한 노력은 물거품이 도리 수 있따.

마틴 파울러는 CI를 팀 구성원이 자신의 작업을 자주 통합하여 하루에도 여러 번 통합이 이루어지는 소프트웨어 개발 관행이라 설명한다.
개발 주기 후반에 코드가 추가되고 통합되면 통합 테스트에 비용과 시간이 많이 소요된다.

### 기본원칙과 에티켓
- 코드를 자주 커밋해야 한다.
- 자체 테스트 코드를 커밋해야 한다.
- 지속적 통합 인증 테스트를 따라야 한다.
- 실패한 테스트를 무시하거나 주석 처리하면 안 된다.
- 빌드에 실패한 코드 위에 작업하지 않는다.
- 모든 실패에 오너싶을 가져야 한다.

### CT의 이점
- 공통 품일 목표
- 조기 결함 감지
- 배포 가능 상태 유지
- 협업 강화
- 배포 오너십 강화

## chapter 5 데이터 테스트

데이터는 애플리케이션에서 가장 중요한 요소다.
데이터의 무결성은 성공과 실패를 결정하는 강력한 힘을 갖고 있다.
데이터의 저장, 처리, 제공 방식을 테스트하는 것은 애플리케이션의 성공을 위해 반드시 따라야 하는 과정이다.

동시성 관련 테스트 케이스는 시뮬레이션하기 어렵다. 따라서 동시성에 관한 지식을 기반으로 분석 단계에서 문제가 발생할 수 있는 케이스를 사전에 고려해야 개발 과정에서 문제를 선제적으로 해결할 수 잇다.

- 데이터베이스
- 캐시
- 배치 처리 시스템
- 이벤트 스트림

### 데이터 테스트 전략
- 수동 탐색적 테스트
- 자동화된 기능 테스트
- 성능 테스트
- 보안 및 개인 정보 보호

테스트 컨테이너, Deequ (내부 시스템에서 생산된 데이터의 품질을 테스트하기 위해 사용)


## chapter 6 시각적 테스트

브랜드 성공의 핵심은 시각적 품질이다.

- border-width=10px 검증하는 것과 같이 요소의 CSS를 검증하기 위한 코드 작성하기
- 정적 CSS 코드를 분석하여 UI 요소에 대한 브라우저 비호환성 문제 찾기
- 사람이 보는 것처럼 인공지능을 사용해 페이지의 변경 사항을 인식하기
- 페이지 스크린샷을 캡처하여 예산한 기본 스크린샷과 픽셀 단위로 비교하기

- B2C 애플리케이션을 개발할 때는 시각적 품질이 중요하기 떄문에 시각적 품질에 대한 지속적인 피드백이 필요하다.
- 애플리케이션이 여러 브라우저, 기기, 화면 해상도를 지원해야 하는 경우 자동화된 시각적 테스트를 통해 대량의 회귀 테스트를 수행할 수 있다.
- 일반적으로 애플리케이션 제품군을 소유한 기업은 UI 구성 요소를 개발하는 중앙 집중식 팀이 있다. (디자인 시스템)
- 시각적 테스트를 작성하면 사용자 경험을 유지한채로 애플리케이션을 개선할 수 있다.
- 시각적 테스트는 기존 애플리케이션을 리팩터링할 때 유용하다.

### 프론트엔드 테스트 전략
- 개발, CI, 사용자 스토리 테스트, 릴리스 테스트
- 유닛 테스트, 통합 테스트, 스냅샷 테스트, 엔드 투 엔드 기능 테스트, 시각적 테스트, 교차 브라우저 테스트, 프론트엔드 성능 테스트, 접근성 테스트

BackstopJS, Cypress
Applitools Eyes, story book

## chapter 7 보안 테스트

### 일반적인 사이버 공격
- 웹 스크랩핑 : 소프트웨어나 스크립트를 사용해 웹 사이트를 자동으로 크롤링하고 잠재적으로 악용 가능한 정보를 수집하는 것을 말한다.
- 무차별 대입
- 사회공학 : 사회공학은 비밀 정보를 획득하기 위해 개인을 심리적으로 조종하는 것
- 피싱
- 크로스 사이트 스크립트
- 랜섬웨어
- 쿠키 위조
- 크립토재킹

### STRIDE 위협 모델
- 스푸핑된 ID
- 변조된 입력
- 작업 부인 : 작업 부인은 사용자의 작업을 증명하거나 추적할 수 없을 때 발생한다.
- 정보 노출
- 서비스 거부 DoS
- 권한 승격

### 애플리케이션 취약점
- SQL Injection
- XSS
- 인증 및 세션 관리 오류
- 처리되지 않은 알려진 취약점
- 암호화되지 않은 개인 데이터
- 애플리케이션 구성 오류
- 애플리케이션 시크릿 노출

### 위협 모델링
- 기능 정의, 자산 정의, 검은 모자 생각, 위협의 우선순위 지정 및 스토리 작성

### 보안 테스트 전략
- 정적 애플리케이션 보안 테스트 (SAST)
- 소프트웨어 구성 분석 (SCA)
- 기능적 보안 테스트 자동화
- 이미지 스캔
- 동적 애플리케이션 보안 테스트 (DAST)
- 수동 탐색적 테스트
- 침투 테스트
- 런타임 애플리케이션 자가 보호 (RASP)

### 테스트
- OWASP Dependency check
- OWASP ZAP
- 스닉 IDE 플러그인
- 탈리스만 커밋 전 훅
- 크롬 개발자 도구와 포스트맨

### 보안은 습관
- 개발 및 테스트를 지원하는 도구를 사용하기 전에 각 도구의 보안 측면을 생각
- 보안 도구가 사설 클라우드에 프로젝트 데이터를 저장하는지 확인
- 프로젝트의 아키텍처 다이어그램과 환경 세부 정보를 온라인 포털에 업로드한 적이 없음


