# DDD

1부 동작하는 도메인 모델 만들기 - 도메인 주도 설계의 기본적인 목표 (도메인을 이용해서 작동하는 것을 만들기)
2부 모델 주도 설계의 기본 요소 - (도메인)모델 주도 설계, 모델과 소프트사이의 갭을 줄이기 위해
3부 더 심층적인 통찰력을 향한 리팩터링 - 
4부 전략적 설계 - 복잡한 시스템, 더 큰 조직, 외부 시스템 및 기존 시스템과의 상호작용에서 발생하는 상황


ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

생산 계획이 있으면 재고 관리하고 했음
부품에 재고가 언제쯤 없어진다. 언제쯤 주문하는 것들을 정함

MOQ Minimum Order Quantity
LeadTime 등

기존에 하던 업무를 자동화해주는 것이였음

공장, 증권사, 현금 관리

왜 설계라는 말을 썼나 보며?
Eric Evans (Software Designer)

소프트웨어자체가 디자인이 됐다.
책이 나온 20년 전과 지금은 무엇이 다른가?

> 도메인 주도 설계라고 칭하는 하나의 철학이 나타났음

철학이라 이 책이 어렵다

MS
> Domain-Driven Design(DDD) is a collection of principles and patterns that help developers craft elegant object systems. 
> Properly applied it can lead to software abstractions called domain models. 
> These models encapsulate complex business logic, closing the gap between business reality and code.

반 버논
> DDD will help you to see how you should model software according to the unique business needs that your company has.

마틴 파울러
> Domain-Driven Design is an approach to software development that centers the development on programming a domain model that has a rich understanding of the processes and rules of a domain

모델링, DDD, UML, OOAD, 도메인 모델

DDD -> 도메인 모델(객체 지향 모델링)을 잘 만들자, 중요하다

도메인 모델 빌딩 블럭스

Bounded Context 가 틀어질 수 있으니 자주 모여서 continuous integration 해야함

DDD 한다.
도메인 모델 어디있음? 도메인 통합을 어떻게 하는 것인가?
이걸 대답 못하면 practice를 차용한 것이다.

도메인 모델링

도메인 : 해결하고자 하는 문제 영역
도메인 모델 : 특정 문제와 관련된 모든 주제의 개념 모델, 엔티티, 속성, 역할, 관계, 제약, 솔루션은 기술하지 않음
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ


## 1부 동작하는 도메인 모델 만들기

도메인 : 사용자가 프로그램을 사용하는 대상 영역
모델 : 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태 (단순화, 추상화)
도메인 모델 : 어떤 특정한 다이어그램이 아닌 다이어그램이 전달하고자 하는 아이디어 (중요하다고 생각하는 것을 선택하고 구조화시킨 결과물)
도메인 모델링 : 어떤 목적에 따라 제약에 구애받지 않고 현실을 표현하는 영화 제작에 가까움 (기본적인 UML 그리는 정도는 할 수 있어야 한다.)
[UML](https://creately.com/blog/diagrams/uml-diagram-types-examples/)
[GML](http://wiki.c2.com/?GalacticModelingLanguage)

#### 도메인 주도 설계에서의 모델의 유용성
1. 모델과 핵심 설계는 서로 영향을 주며 구체화된다. - 모델을 의미 있게 만들고 모델의 분석이 최종 산출물인 동작하는 프로그램에 적용되게끔 보장하는 것은 모델과 구현 간의 긴밀한 연결
2. 모델은 모든 팀 구성원이 사용하는 언어의 중추. - 모델과 구현이 긴밀하므로 개발자와 도메인 전문가가 의사소통하는데 별도의 번역 절차가 필요하지 않음
3. 모델은 지식의 정수만을 뽑아낸 것이다. - 모델은 도메인 지식을 조직화하고 가장 중요한 요소를 구분하는 팀의 합의된 방식

#### 소프트웨어의 본질
소프트웨어의 사용자를 위해 도메인에 관련된 문제를 해결하는 능력에 있음

기술적으로 완벽하지 못하다고 영화의 본질이 사라진 예시가 있음

> 팀의 리더가 도메인의 중심이 되는 개념을 알고 있어야 해당 도메인의 심층적인 이해를 반영하는 모델 개발이 갈피를 잡지 못할 때 소프트웨어 프로젝트를 올바른 방향으로 되돌려 놓을 수 있다.

### 1. 지식 탐구

새로운 정보를 체계화하고 더 빠르게 배우게 하며, 무엇이 중요하고 중요하지 않은가를 더 잘 추측할 수 있게 해주며 PCB 예시 같은 엔지니어와 더 원할하게 의사소통하게 만들어줄 틀이 된다.

#### 효과적인 모델링의 요소

1. 모델과 구현의 연계 - 프로토타입을 토대로 본질적인 연결 고리를 만든다.
2. 모델을 기반으로 하는 언어 정제 - 누구라도 모델에서 바로 용어를 끄집어내어 모델의 구조와 일관되게 문장을 구성할 수 있게 된다.
3. 풍부한 지식이 담긴 모델 개발 - 모델은 복잡한 문제를 해결하는 데 필수불가결, 모델에는 다양한 지식이 포함돼 있다.
4. 모델의 정제 - 모델이 완정해지면서 중요한 개념이 더해지고, 중여하지 않다고 판면된 개념에 제거 됐다.
5. 브레인스토밍과 실험

#### 지식 탐구

도메인 전문가들은 자신이 알고 있는 지식의 정수만을 추출해내야 하므로 스스로 이해하는 바를 자주 정제함으로써 소프트웨어 프로젝트에서 요구하는 개념적 엄밀함을 이해하게 된다.
모델관 관계없는 것은 가려내고 모델을 더욱 유용한 형태로 고쳐 만든다.

#### 지속적인 학습
도메인 전문가에게서 모두 똑같이 지식을 얻고 의사소통 체계를 공유하며, 구현을 거쳐 피드백 고리를 완성하는 일을 모두 효과적으로 수행하는 지식 탐구 프로세스를 궤도에 올려야한다.

#### 풍부한 지식이 담긴 설계

Voyage - Cargo 예제

1. 코드가 복잡하면 개발자의 도움이 있더라도 업무 전문가가 코드를 읽고 규칙을 검증하지 못함
2. 해당 업무에 종사하지 않고 기술적인 측면만 담당하는 사람은 코드와 요구사항을 결부시키기 어려움


1. 특정 부분이 계산에 불과한 것이 아닌 중요한 업무 규칙임을 알 수 있도록 표현한다.
2. 업무 전문가에게 그들이 이해할 수 있는 수준에서 기술적 산출물, 심지어 코드까지도 보여줄 수 있다.


### 심층 모델

ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

대기업 전물 컨설팅 외주 업체들은 프로젝트가 폭포수 모델로 많이 진행 됨

업무 자동화를 하려면 BPR (Business process reengineering) - 회계사들이 했음?
BPR이 없이 자동화를 넣으면 회사 전체적 자동화가 어렵다.
-> IT consultant (enterprise -> software architecture) (대충하고 넘어감, 무엇을 설계했는지 모르게 됨)
-> UML, model 설계
-> SI 회사들이 개발 
(모델이 잘못 되었는데 변경 요구하는데 -> 변경책임을 개발자한테 넘김 -> 적당히 요구사항만 맞게함) (요구사항이 바뀌니 db, jsp만 바꿔서 함)

> 결국 도메인 전문가는 사용자, 모델링을 전문적으로 하는 사람들 전부 모여서 도메인 모델을 만들자 

!! 유비쿼터스 랭귀지 - 현업과 개발자의 언어를 맞춰가자

도메인 중요 로직이 무엇인지 알게된다.

그래서 모델을 어떻게 그리고 업데이트 할 것인가?
-> 이벤트스토밍이 나왔음

!!! 도메인 이벤트를 넣어서 아이디어의 중요 포인트를 찾아내는 것들이 추상화가 잘 되어 있다는 생각이 듬
!!! 이벤트 스토밍 - 워크샾 다 모여서함, 여기에만 집중할 수 있는 환경 (큰 회사는 TFT 하기도 함)
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

## 2장 의사소통과 언어 사용

모델은 - 도메인에 대한 통찰력을 반영하는 용어와 관계로 표현된다.

프로젝트에서 사용하는 언어가 분열되면 심각한 문제가 발생
번역은 의사소통을 무디게 하고 지식 탐구를 빈약하게 함

언어의 변화는 도메인 모델의 변화로 인식

> 모델을 언어의 근간으로 사용하고 팀 내 모든 의사소통과 코드에서 해당 언어를 끊임없이 적용하는데 전념해야한다.
> 다이어그램과 문서, 말할 때 동일한 언어를 사용
> 개발자는 설계를 어렵게 만드는 모호함과 불일치를 찾아내는 데 촉각을 곤두세워야한다.


#### 크게 소리내어 모델링하기

시스템에 관해 이야기를 주고받을 때 모델을 사용하라. 모델의 요소와 상호작용을 이용하고 모델이 허용하는 범위에 개념을 조합하면서 시나리오를 큰 소리로 말해보라.
표현해야 할 것을 더 쉽게 말하는 방법을 찾아낸 다음 그렇나 새로운 아이디어를 다이어그램과 코드에 적용하라.

#### 문서와 다이어그램
설계의 생생한 세부사항은 코드에 담긴다.

#### 글로 쓴 설계 문서
문서는 코드와 말을 보완하는 역할을 해야한다.
문서는 코드가 이미 잘 하고 있는 것을 하려고 해서는 안 된다.
문서는 프로젝트 활동과 관련을 맺고 있어야 한다.


#### 설명을 위한 모델
하나의 모델이 구현, 설계, 의사소통의 기초가 돼야한다.

설명을 위한 모델에서는 특정 주제에 맞춰 훨씬 더 전달력이 높은 의사소통 방식을 만들어 낼 수 있다.






