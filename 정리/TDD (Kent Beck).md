## 테스트 주도 개발

clean code that works

- 예측 가능한 개발 방법이다. 끊임없이 발생할 버그에 대해 걱정하지 않고, 일이 언제 마무리될지 알 수 있다.
- 코드가 가르쳐주는 모든 교훈을 학습할 기회를 갖게 된다. 처음 생각나는 대로 후딱 완료해 버리면 두 번째 것, 더 나은 것에 대해 생각할 기회를 잃게 된다.
- 당신이 만든 소프트웨어는 사용자의 삶을 향상시켜 준다.
- 동료들이 당신을 존경할 수 있게 해주며, 당신 또한 동료들을 존경할 수 있게 된다.
- 작성하는 동안 기분이 좋다.


1. 빨강 - 실패하는 작은 테스트를 작성한다. 처음에는 컴파일조차 되지 않을 수 있다.
2. 초록 - 빨리 테스트가 통과하게끔 만든다. 이를 위해 어떤 죄악을 저질러도 좋다.
3. 리팩토링 - 일단 테스트를 통과하게만 하는 와중에 생겨난 모든 중복을 제거한다.

순수하게 TDD로만 풀어낼 수는 없는 프로그래밍 작업도 있다.
동시성

와이캐시 달러에서 화폐를 추가
PolyCurrency 추가 후 테스트 코드를 추가하여 성공하는지 확인

- 방법 -> 워드와 와이캐시 팀은 설계를 조금씩 성장시키는 지속적 경험이 필요했음
- 동기 -> 워드와 그의 팀은 와이캐시를 다중 통화로 만드는 것의 비즈니스적 중요성을 분명히 이해, 외적으로 불가능해 보이는 작업을 시작할 용기가 있어야 했음
- 기회 -> 포괄적이고 자신감을 만들어 내는 테스트들, 잘 리팩토링된 프로그램, 설계 결정을 분리할 수 있는 프로그래밍 언어 등의 조합을 통해 에러의 요인이 거의 없었고, 설사 있더라도 
에러를 손쉽게 파악할 수 있었다.

- 어떤 코드건 작성하기 전에 실패하는 자동화된 테스트들 작성
- 중복을 제거


### 1부 화폐 예제

TDD 리듬

1. 재빨리 테스트를 하나 추가한다.
2. 모든 테스트를 실행하고 새로 추가한 것이 실패하는지 확인한다.
3. 코드를 조금 바꾼다.
4. 모든 테스트를 실행하고 전부 성공하는지 확인한다.
5. 리팩토링을 통해 중복을 제거한다.


#### 1장. 다중 통화를 지원하는 Money 객체

- 통화가 다른 두 금액을 더해서 주어진 환율에 맞게 변한 금액을 결과로 얻을 수 있어야 한다.
- 어떤 금액을 어떤 수에 곱한 금액을 결과로 얻을 수 있어야한다.

테스트를 실패하기 위한 최소한의 작업만 진행

의존성과 중복 - 의존성은 소프트웨어 개발의 모든 부분에서 핵심적인 문제 벤더가 제공하는 세세한 기능들을 코드 여기저기에서 사용한다면
중복이 많다면 중복된 로직을 하나로 끄집어내는 객체를 이용하는 것이 좋다.






