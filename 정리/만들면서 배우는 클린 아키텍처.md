# 만들면서 배우는 클린 아키텍처

### 1. 계층형 아키텍처의 문제는 무엇일까?

영속성 코드가 사실상 도메인 코드에 녹아들아가서 둘 중 하나만 바꾸는 것이 어려워진다.

고도로 특화된 좁은 도메인 서비스가 유스케이스 하나씩만 담당하게 한다면 작업들이 얼마나 쉬워질까?

UserService 에서 사용자 등록 유스케이스를 찾는 대신 RegisterUserService 를 바로 열어서 작업을 시작

계층형 아키텍처에서는 영속성 계층을 먼저 개발해야 하고, 그 다음에 도메인 계층을, 그리고 마지막으로 웹 계층을 만들어야 한다.
-> 코드에 넓은 서비스가 있다면 서로 다른 기능을 동시에 작업하기가 더욱 어렵다.

### 2. 의존성 역전하기
SRP (Single Responsibility Principle)
하나의 컴포넌트는 오로지 한 가지 일만 해야 하고, 그것을 오바르게 수행해야 한다.

-> 컴포넌트를 변경하는 이유는 오직 하나뿐이어야 한다., 


DIP
영속성 코드가 바뀐다고 해서 도메인 코드까지 바꾸고 싶지 않다면 의존성 역전 원칙이 답을 알려준다.
코드상의 어떤 의존성이든 그 방향을 바꿀 수 있다.

클린 아키텍처에서 모든 의존성은 도메인 로직을 향해 안쪽 방향으로 향한다.

#### 육각형 아키텍처 (포트와 어댑터)

육각형 아키텍처는 도메인 코드가 다른 바같쪽 코드에 의존하지 않게 함으로써 영속성과 UI에 특화된 모든 문제로부터 도메인 로직의 결합을 제거하고 코드를 변경할 이유의 수를 줄일 수 있다.

계층으로 구성하기, 기능으로 구성하기

