# 아파치카프카애플리케이션프로그래밍

링크드인 개발자들이 최초로 배치성 데이터와 실시간 이벤트 스트리밍 데이터를 혼합하여 처리하 는 독특한 로직의 플랫폼을 만들어냈고, 이것이 아파치 카프카의 탄생이다.

- 카프카를 왜 써야 하는가?
- 카프카의 브로커는 어떤 역할을 할까?
- 컨슈머와 프로듀서란 무엇인가?
- 카프카 스트림즈란 무엇인가?
- 카프카 커넥트와 커넥터란 무엇인가?
- 스프링 카프카란 무엇인가?
- 미러메이커2란 무엇인가?
- 클라우드 기반 카프카는 무엇이 있고, 어떻게 사용하는가?

### 1 들어가며

#### 1.1 카프카의 탄생

링크드인 아키텍처는 거대해졌고 소  애플리케이션과 타깃 애플리케이션의 개수가 점점 많아지면서 문제가 생겼다. 
데이터를 전송하는 라인이 기하급수적으로 복잡해지기 시작했다.

카프카는 각각의 애플리케이션끼리 연결하여 데이터를 처리하는 것이 아니라 한 곳에 모아 처리할 수 있도록 중앙집중화했다.
카프카를 통해 웹사이트, 애플리케이션, 센서 등에서 취합한 데이터 스트림을 한 곳에서 실시간으로 관리할 수 있게 된 것이다.

큐에 데이터를 보내는 것이 프로듀서이고 큐에서 데이터를 가져가는 것이 컨슈머다.
카프카는 직렬화, 역직렬화를 통해 ByteArray로 통신하기 때문에 자바에서 선언 가능한 모든 객체를 지원한다.

서버 3대 이상으로 이루어지기 떄문에 안전하고, 데이터를 묶음 단위로 처리하는 배치 전송을 통해 낮은 지연과 높은 데이터 처리량도 가진다.

#### 1.2 빅데이터 파이프라인에서 카프카의 역할

안정적이고 확장성이 높은 데이터 파이프라인(Extracting, Transforming, Loading)을 구축하는 것은 빅데이터를 활용하는 기업에게 필수적

- 높은 처리량 : 묶음 단위, 파티션 분배 병렬추리, 컨슈머 개수를 늘려 시간당 데이터 처리량 늘림
- 확장성 : 데이터가 많아지면 클러스터의 브로커 개수를 자연스럽게 늘려 스케일 아웃할 수 있음
- 영속성 : 카프카는 데이터를 파일 시스템에 저장 (페이지 캐시 사용)
- 고가용성 : 클러스터로 이루어진 카프카는 데이터의 복제를 통해 고가용성의 특징을 가지게 되었

#### 1.3 데이터 레이크 아키텍처와 카프카의 미래
데이터 레이크 아키텍처
(람다 아키텍처, 카파 아키텍처)

로그는 배치 데이터를 스트림을 표현하기에 적합 (변환 기록을 시간 순서대로 기록, 스냅샷 데이터를 저장하지 않아도 배치 데이터를 표현할 수 있음)


### 2 카프카 빠르게 시작해보기

#### 2.1 실습용 카프카 브로커 설치

### 3 