# 마이크로서비스 패턴

## 1장 모놀리식 지옥에서 벗어나라

### 1.1 서서히 모놀리식 지옥에 빠져들다
대금 지불은 스트라이프(Stripe), 메시지 전송은 트윌리오(Twilio), 이메일 발송은 AWS SES(Simple Email Service) 등 서드 파티 웹서비스를 활용
시간이 흐를수록 점점 커지면서 애플리케이션이 복잡해졌음

#### 1.1.1 FTGO 애플리케이션 아키텍처

![img.png](../image/microservice1-1.png)

논리적으로는 모듈화한 아키텍처임에도 애플리케이션은 WAR 파일 하나로 패키징했음

#### 1.1.2 모놀리식 아키텍처의 장점
- 개발이 간단
- 애플리케이션을 쉽게 변경: 코드, db, 스키마 변경
- 테스트하기 쉽다.
- 배포하기 쉽다.
- 확장하기 쉽다: 뒷면에 애플리케이션 인스턴스를 여러 개 실행

#### 1.1.3 모놀리식 지옥의 일상

- 개발이 더딤
- 커밋부터 배포까지 험난하다.
- 확장하기 어렵다
- 모놀리스는 확실하게 전달하기 어렵다
- 갈수록 기술 스택에 발목이 붙잡힌다.

### 1.2 이 책의 대상 독자
- 3계층, 애플리케이션 설계, 객체 지향, RDBMS 사용법, 메시지 브로커, 인증/인가 보안 개념을 잘 알아야함

### 1.3 이 책의 학습 내용
- 마이크로서비스 장단점, 분산 데이터 관리 패턴, 효과적인 테스트, 배포 옵션, 리팩터링
- 아키텍처링, 서비스 로직 개발, 사가를 이용한 데이터 일관성, 여러 서비스에 걸친 쿼리, 효율적 테스트

### 1.4 마이크로서비스 아키텍처가 답이다

#### 1.4.1 확장 큐브와 마이크로서비스
![img.png](../image/마이크로서비스패턴/마이크로서비스xyz.png)

#### 1.4.2 마이크로서비스는 모듈성을 갖고 있다.
#### 1.4.3 서비스마다 DB가 따로 있따

#### 1.4.4 FTGO 마이크로서비스 아키텍처
- 주문서비스
- 배달 서비스
- 음식점 서비스
- 주방 서비스
- 회계 서비스

![img.png](../image/마이크로서비스패턴/ftgo.png)

#### 1.4.5 마이크로서비스 아키텍처와 SOA

### 1.5 마이크로서비스 아키텍처의 장단점
- CI/CD, 관리하기 쉬움, 배포 확장, 팀이 자율적, 결함 격리, 새로운 기술 도입하기 쉬움

- 딱 맞는 서비스 찾기 쉽지 않음
- 분산 시스템은 너무 복잡 개발, 테스트, 배포가 어려움
- 여러 서비스 걸친 기능을 잘 조정, 도입 시점 결정 어려움


### 1.6 마이크로서비스 아키텍처 패턴 언어

![img.png](../image/마이크로서비스패턴/microservicepattern.png)

### 1.7 마이크로서비스 너머: 프로세스와 조직


## 2 분해전략

### 2.1 마이크로서비스 아키텍처란 무엇인가?
마이크로서비스 아키텍처는 관리성, 테스트성, 배포성이 높은 애플리케이션을 구축하는 아키텍처 스타일

#### 2.1.1 소프트웨어 아키텍처의 정의와 중요성
컴퓨팅 시스템의 소프트웨어 아키텍처는 소프트웨어 엘리먼트와 그들 간의 관계,
그리고 이 둘의 속성으로 구성된 시스템을 추론하는 데 필요한 구조의 집합

계층형, 육각형 아키텍처 스타일

서비스란 무엇인가?
서비스는 어떤 기능이 구현되어 단독 배포가 가능한 소프트웨어 컴포넌트

서비스 규모는 별로 중요하지 않다
작고 느슨하게 결합된 서비스로 유지보수성, 테스트성, 배포성 등 개발 단계의 품질 속성이 개선된것


### 2.2 마이크로서비스 아키텍처 정의
아키텍처를 정의하는
- 1단계는 애플리케이션 요건을 핵심 요청으로 추출
- 2단계 어떻게 여러 서비스로 분해할지 결정
- 서비스별로 API를 정의하는 일









