# 이펙티브 자바

자바는 단일 상속 방식의 객체 지향 언어이고, 메서드 안의 코드는 명령 형(문장 지향) 방식으로 작성

## 1장 들어가며
자바가 지원하는 타입: interface, class, array, primitive

## 2장 객체 생성과 파괴

- 체를 만들어야 할 때와 만들지 말 아야 할 때를 구분하는 법
- 올바른 객체 생성 방법과 불필요한 생성을 피하는 방법
- 제때 파괴됨을 보장하고 파괴 전에 수행해야 할 정리 작업

### 생성자 대신 정적 팩터리 메서드
```java
public static Boolean valueOf(boolean b) {
    return b ? Boolean.TRUE : Boolean.FALSE;
}
```

장점
1. 이름을 가질 수 있다. - 어떤 역할을 할지 헷갈릴 일이 없음
2. 호출될 때마다 인스턴스를 생성하지는 않아도 됨다. - 인스턴스 통제
3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.
4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.
5. 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.

단점
1. 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.
2. 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.

### 생성자에 매개변수가 많다면 빌더를 고려

### private 생성자나 열거 타입으로 싱글턴임을 보증하라
싱글턴을 만드는 방식은 보통 둘 중 하나. 두 방식 모두 생성자는 private으로 감춰두고 유일한 인스턴스에 접근할 수 있는 수단으로
public static 멤버를 하나 마련

### 인스턴스화를 막으려거든 Private 생성자를 사용하라

private으로 막으면 상속을 불가능하게 하는 효과가 있다.

### 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라

인스턴스를 생성할 떄 생성자에 필요한 자원을 넘겨주는 방식

클래스가 내부적으로 하나 이상의 자원에 의존하고, 
그 자원이 클래스 동작에 영향을 준 다면 싱글턴과 정적 유틸리티 클래스는 사용하지 않는 것이 좋다.
이 자원들을 클래스가 직접 만들게 해서도 안 된다. 
대신 필요한 자원을 (혹은 그 자원을 만들어주는 팩터리를) 생성자에 (혹은 정적 팩터리나 빌더에) 넘겨주자. 
의존 객체 주입이라 하는 이 기법은 클 래스의 유연성, 재사용성, 테스트 용이성을 기막히게 개선해준다.

### 불필요한 객체 생성을 피하라

### 다 쓴 객체 참조를 해제하라
객체 참조 하나를 살려두면 가비지 컬렉터는 그 객체뿐 아니라 그 객체가 참조하는 모든 객체(그리고 또 그 객체들이 참조하는 모든 객체...)를 회수해가지 못한다.
- 자기 메모리를 직접 관리하는 클래스라면 프로그래머는 항시 메 모리 누수에 주의해야 한다.
- 캐시 역시 메모리 누수를 일으키는 주범이다.

### finalizer와 cleaner 사용을 피하라


